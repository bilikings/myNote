1. ## Tcp与UDP

   ### 1、TCP的拥塞控制与滑动窗口（流量控制）

   http://blog.chinaunix.net/uid-21768364-id-4823449.html

   https://blog.csdn.net/qzcsu/article/details/72861891

   拥塞控制

    

    

    

   ### 2、TCP十一种状态

    

    

    

    

    

   ### 3、三次握手

    

    

    

   ### 4、四次挥手

    

    

   ### 5、为什么TCP链接需要三次握手，两次不可以么，为什么？

   为了防止已失效的链接请求报文突然又传送到了服务端，因而产生错误。

   客户端发出的连接请求报文并未丢失，而是在某个网络节点长时间滞留了，以致延误到链接释放以后的某个时间才到达Server。这是，Server误以为这是Client发出的一个新的链接请求，于是就向客户端发送确认数据包，同意建立链接。若不采用“三次握手”，那么只要Server发出确认数据包，新的链接就建立了。由于client此时并未发出建立链接的请求，所以其不会理睬Server的确认，也不与Server通信；而这时Server一直在等待Client的请求，这样Server就白白浪费了一定的资源。若采用“三次握手”，在这种情况下，由于Server端没有收到来自客户端的确认，则就会知道Client并没有要求建立请求，就不会建立链接。

   ### 6、TCP协议如何来保证传输的可靠性

     TCP提供一种面向连接的、可靠的字节流服务。其中，面向连接意味着两个使用TCP的应用（通常是一个客户和一个服务器）在彼此交换数据之前必须先建立一个TCP连接。在一个TCP连接中，仅有两方进行彼此通信；而字节流服务意味着两个应用程序通过TCP链接交换8bit字节构成的字节流，TCP不在字节流中插入记录标识符。

     对于可靠性，TCP通过以下方式进行保证：

     数据包校验：目的是检测数据在传输过程中的任何变化，若校验出包有错，则丢弃报文段并且不给出响应，这时TCP发送数据端超时后会重发数据；

     对失序数据包重排序：既然TCP报文段作为IP数据报来传输，而IP数据报的到达可能会失序，因此TCP报文段的到达也可能会失序。TCP将对失序数据进行重新排序，然后才交给应用层；

     丢弃重复数据：对于重复数据，能够丢弃重复数据；

     应答机制：当TCP收到发自TCP连接另一端的数据，它将发送一个确认。这个确认不是立即发送，通常将推迟几分之一秒；

     超时重发：当TCP发出一个段后，它启动一个定时器，等待目的端确认收到这个报文段。如果不能及时收到一个确认，将重发这个报文段；

     流量控制：TCP连接的每一方都有固定大小的缓冲空间。TCP的接收端只允许另一端发送接收端缓冲区所能接纳的数据，这可以防止较快主机致使较慢主机的缓冲区溢出，这就是流量控制。TCP使用的流量控制协议是可变大小的滑动窗口协议。

   ### 7、客户端不断进行请求链接会怎样？DDos(Distributed Denial of Service)攻击？

    

   ### 8、TCP与UDP的区别

   1、TCP面向连接（如打电话要先拨号建立连接）;UDP是无连接的，即发送数据之前不需要建立连接

   2、TCP提供可靠的服务。也就是说，通过TCP连接传送的数据，无差错，不丢失，不重复，且按序到达;UDP尽最大努力交付，即不保证可靠交付

   3、TCP面向字节流，实际上是TCP把数据看成一连串无结构的字节流;UDP是面向报文的

   UDP没有拥塞控制，因此网络出现拥塞不会使源主机的发送速率降低（对实时应用很有用，如IP电话，实时视频会议等）

   4、每一条TCP连接只能是点到点的;UDP支持一对一，一对多，多对一和多对多的交互通信

   5、TCP首部开销20字节;UDP的首部开销小，只有8个字节

   6、TCP的逻辑通信信道是全双工的可靠信道，UDP则是不可靠信道

    

   ## HTTP与https

   ### 1、Http与Https的基本概念和他们的区别

   Http协议运行在TCP之上，明文传输，客户端与服务器端都无法验证对方的身份；Https是身披SSL(Secure Socket Layer)外壳的Http，运行于SSL上，SSL运行于TCP之上，是添加了加密和认证机制的HTTP。二者之间存在如下不同：

   1）端口不同：Http与Http使用不同的连接方式，用的端口也不一样，前者是80，后者是443；

   2）资源消耗：和HTTP通信相比，Https通信会由于加减密处理消耗更多的CPU和内存资源；

   3）开销：Https通信需要证书，而证书一般需要向认证机构购买；

   Https的加密机制是一种共享密钥加密和公开密钥加密并用的混合加密机制。

    

   http的中文叫做超文本传输协议,它负责完成客户端到服务端的一系列操作,是专门用来传输注入HTML的超媒体文档等web内容的协议,它是基于传输层的TCP协议的应用层协议

    

   https:https是基于安全套接字的http协议,也可以理解为是http+ssl/tls(数字证书)的组合

    

   http和https的区别:

   HTTP 的 URL 以 http:// 开头，而 HTTPS 的 URL 以 https:// 开头

   HTTP 是不安全的，而 HTTPS 是安全的

   HTTP 标准端口是 80 ，而 HTTPS 的标准端口是 443

   在 OSI 网络模型中，HTTPS的加密是在传输层完成的,因为SSL是位于传输层的,TLS的前身是SSL,所以同理

   HTTP无需认证证书,而https需要认证证书

    

   ### 2、HTTPS工作原理

   首先服务端给客户端传输证书,这个证书就是公钥,只是包含了很多的信息,比如说证书的办法机构,证书的过期时间

   客户端进行证书的解析,比如说验证办法机构,过期时间,如果发现没有任何问题,就生成一个随机值(私钥),然后用证书对这个私钥进行加密,并发送给服务端

   服务端使用私钥将这个信息进行解密,得到客户端的私钥,然后客户端和服务端就可以通过这个私钥进行通信了

   服务端将消息进行对称加密(简单来说就是讲消息和私钥进行混合,除非知道私钥否则服务进行解密),私钥正好只有客户端和服务端知道,所以信息就比较安全了

   服务端将进行对称加密后的消息进行传送

   客户端使用私钥进行信息的解密

    

   ### 3、常用的HTTP方法有哪些

   GET 从服务器获得资源

   POST 客户端向服务器提交资源

   PUT 修改服务器相关资源(已经很少用)

   DELETE 删除服务器相关资源(已经很少用)

    

   ### 4、GET方法与POST方法的区别,什么时候应该使用GET什么时候应该使用POST

   GET：一般用于**信息获取**，使用URL传递参数，对所发送信息的**数量也有限制**，一般在2000个字符

   POST：一般用于**修改服务器上的资源**，对所发送的信息数**量没有限制**

   GET方式需要使用Request.QueryString来取得变量的值，而POST方式通过Request.Form来获取变量的值，也就是说Get是**通过地址栏来传值**，而Post是**通过提交表单来传值**。

   小结：

   对于信息的获取一般使用get,在以下情况下最好使用post请求:

   向服务器发送大量数据（因为post没有发送数据的数量限制） 

   无法使用缓存文件（会更新服务器上的文件）

   发送包含未知字符的用户输入时(亲身经历过GET的坑,泪目) 

    

    

   Get Post（补充）

   GET：一般用于信息获取，使用URL传递参数，对所发送信息的数量也有限制，一般在2000个字符

   POST：一般用于修改服务器上的资源，对所发送的信息没有限制。

   GET方式需要使用Request.QueryString来取得变量的值，而POST方式通过Request.Form来获取变量的值，也就是说Get是通过地址栏来传值，而Post是通过提交表单来传值。

   然而，在以下情况中，请使用 POST 请求：

   无法使用缓存文件（更新服务器上的文件或数据库）

   向服务器发送大量数据（POST 没有数据量限制）

   发送包含未知字符的用户输入时，POST 比 GET 更稳定也更可靠

   区别一：

   get重点在从服务器上获取资源，post重点在向服务器发送数据；

   区别二：

   get传输数据是通过URL请求，以field（字段）= value的形式，置于URL后，并用"?"连接，多个请求数据间用"&"连接，如http://127.0.0.1/Test/login.action?name=admin&password=admin，这个过程用户是可见的；

   post传输数据通过Http的post机制，将字段与对应值封存在请求实体中发送给服务器，这个过程对用户是不可见的；

   区别三：

   Get传输的数据量小，因为受URL长度限制，但效率较高；

   Post可以传输大量数据，所以上传文件时只能用Post方式；

   区别四：

   get是不安全的，因为URL是可见的，可能会泄露私密信息，如密码等；

   post较get安全性较高；

   区别五：

   get方式只能支持ASCII字符，向服务器传的中文字符可能会乱码。

   post支持标准字符集，可以正确传递中文字符。

   ### 5、HTTP请求报文与响应报文格式

   主要的区别就是请求报文有url和请求方法,响应报文没有这两个,但是有状态码和状态码描述,还要注意一些常见的请求头和响应头代表的意思,比如说Connection:Keep-Alive

    

   HTTP请求报文

   一个HTTP请求报文由请求行（request line）、请求头部（header）、空行和请求数据4个部分组成

   1.请求头

   请求行由请求方法字段、URL字段和HTTP协议版本字段3个字段组成，它们用空格分隔。例如，GET /index.html HTTP/1.1。

   2.请求头部

   请求头部由关键字/值对组成，每行一对，关键字和值用英文冒号“:”分隔。请求头部通知服务器有关于客户端请求的信息，典型的请求头有：

   User-Agent：产生请求的浏览器类型。

   Accept：客户端可识别的内容类型列表。

   Host：请求的主机名，允许多个域名同处一个IP地址，即虚拟主机。

   3.空行

   最后一个请求头之后是一个空行，发送回车符和换行符，通知服务器以下不再有请求头。

   4.请求数据

   请求数据不在GET方法中使用，而是在POST方法中使用。POST方法适用于需要客户填写表单的场合。与请求数据相关的最常使用的请求头是Content-Type和Content-Length。

   HTTP响应报文

   HTTP响应也由三个部分组成，分别是：状态行、消息报头、响应正文。

    

    

   ### 6、常见的HTTP的状态码

   1xx：指示信息--表示请求已接收，继续处理

   2xx：成功--表示请求已被成功接收、理解、接受

   3xx：重定向--要完成请求必须进行更进一步的操作

   4xx：客户端错误--请求有语法错误或请求无法实现

   5xx：服务器端错误--服务器未能实现合法的请求

   100 Continue 继续，一般在发送post请求时，已发送了http header之后服务端将返回此信息，表示确认，之后发送具体参数信息

   200 OK  正常返回信息

   201 Created 请求成功并且服务器创建了新的资源

   202 Accepted 服务器已接受请求，但尚未处理

   301 Moved Permanently 请求的网页已永久移动到新位置。

   302 Found 临时性重定向。

   303 See Other 临时性重定向，且总是使用 GET 请求新的 URI。

   304 Not Modified 自从上次请求后，请求的网页未修改过。

   400 Bad Request 服务器无法理解请求的格式，客户端不应当尝试再次使用相同的内容发起请求。

   401 Unauthorized 请求未授权。

   403 Forbidden 禁止访问。

   404 Not Found 找不到如何与 URI 相匹配的资源。

   500 Internal Server Error 最常见的服务器端错误。

   503 Service Unavailable 服务器端暂时无法处理请求（可能是过载或维护）。

    

   304实现原理 

   服务器首先产生ETag，服务器可在稍后使用它来判断页面是否已经被修改。本质上，客户端通过将该记号传回服务器要求服务器验证其（客户端）缓存。

   304是HTTP状态码，服务器用来标识这个文件没修改，不返回内容，浏览器在接收到个状态码后，会使用浏览器已缓存的文件

   客户端请求一个页面（A）。 服务器返回页面A，并在给A加上一个ETag。 客户端展现该页面，并将页面连同ETag一起缓存。 客户再次请求页面A，并将上次请求时服务器返回的ETag一起传递给服务器。 服务器检查该ETag，并判断出该页面自上次客户端请求之后还未被修改，直接返回响应304（未修改——Not Modified）和一个空的响应体。